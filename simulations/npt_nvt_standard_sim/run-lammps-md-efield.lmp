# Initialize simulation
units           real
atom_style      charge

# Read the restart file
read_restart    restart.NVT

#Make z-axis non-periodic
change_box      all boundary p p s

# Define constants
variable        A equal 0.5         # Amplitude of electric field (V/Angstrom)
variable        f equal 1.0e-4      # Frequency in THz (THz = 1e12 Hz)
variable        omega equal 2*PI*${f}  # Angular frequency (omega = 2*pi*f)

# Define time-varying electric field components
variable        Ez equal ${A}*sin(${omega}*time) 

# Apply ReaxFF potential
pair_style      reaxff NULL checkqeq yes
pair_coeff      * * ffield.reax Ce O

# Neighbor settings
neighbor        2 bin
neigh_modify    every 10 delay 0 check no

# Apply time-varying electric field using the variables
fix 1 all efield 0.0 0.0 v_Ez  # Apply electric field components

# Add charge equilibration
fix 2 all qeq/reaxff 1 0.0 10.0 1.0e-6 reaxff

# Time integration (NVE)
fix 3 all nve

# Output settings
timestep        1.0
thermo          100
thermo_style    custom step temp press lx ly lz

dump            2 all custom 1000 dump_md_efield.lammpstrj id type x y z vx vy vz q